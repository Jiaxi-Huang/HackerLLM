{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: 'ConfusionMatrix',\n  props: {\n    data: {\n      type: Array,\n      required: true\n    },\n    categories: {\n      type: Array,\n      required: true\n    }\n  },\n  mounted() {\n    this.drawChart();\n  },\n  methods: {\n    drawChart() {\n      var chart = echarts.init(this.$refs.chart);\n      var option = {\n        tooltip: {\n          position: 'top',\n          formatter: function (params) {\n            return `fact: ${params.value[1]}<br>predict: ${params.value[0]}<br>sum: ${params.value[2]}`;\n          }\n        },\n        grid: {\n          left: '10%',\n          right: '10%',\n          top: '10%',\n          bottom: '20%'\n        },\n        xAxis: {\n          type: 'category',\n          data: this.categories,\n          splitArea: {\n            show: true\n          },\n          axisLabel: {\n            rotate: 45,\n            interval: 0\n          }\n        },\n        yAxis: {\n          type: 'category',\n          data: this.categories,\n          splitArea: {\n            show: true\n          }\n        },\n        visualMap: {\n          min: 0,\n          max: 1,\n          calculable: true,\n          orient: 'horizontal',\n          left: 'center',\n          bottom: '5%',\n          inRange: {\n            color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n          }\n        },\n        series: [{\n          name: 'Confusion Matrix',\n          type: 'heatmap',\n          data: this.data.map((item, i) => item.map((value, j) => [j, i, value])).flat(),\n          label: {\n            show: true,\n            color: '#000'\n          },\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      };\n      chart.setOption(option);\n    }\n  }\n};","map":{"version":3,"names":["echarts","name","props","data","type","Array","required","categories","mounted","drawChart","methods","chart","init","$refs","option","tooltip","position","formatter","params","value","grid","left","right","top","bottom","xAxis","splitArea","show","axisLabel","rotate","interval","yAxis","visualMap","min","max","calculable","orient","inRange","color","series","map","item","i","j","flat","label","emphasis","itemStyle","shadowBlur","shadowColor","setOption"],"sources":["/root/hackerllm_rag/hackerllm_vue/src/components/ConfusionMatrix.vue"],"sourcesContent":["<template>\n    <div ref=\"chart\" style=\"width: 100%; height: 600px;\"></div>\n  </template>\n  \n  <script>\n  import * as echarts from 'echarts';\n  \n  export default {\n    name: 'ConfusionMatrix',\n    props: {\n      data: {\n        type: Array,\n        required: true\n      },\n      categories: {\n        type: Array,\n        required: true\n      }\n    },\n    mounted() {\n      this.drawChart();\n    },\n    methods: {\n      drawChart() {\n        var chart = echarts.init(this.$refs.chart);\n  \n        var option = {\n          tooltip: {\n            position: 'top',\n            formatter: function (params) {\n              return `fact: ${params.value[1]}<br>predict: ${params.value[0]}<br>sum: ${params.value[2]}`;\n            }\n          },\n          grid: {\n            left: '10%',\n            right: '10%',\n            top: '10%',\n            bottom: '20%'\n          },\n          xAxis: {\n            type: 'category',\n            data: this.categories,\n            splitArea: {\n              show: true\n            },\n            axisLabel: {\n              rotate: 45,\n              interval: 0\n            }\n          },\n          yAxis: {\n            type: 'category',\n            data: this.categories,\n            splitArea: {\n              show: true\n            }\n          },\n          visualMap: {\n            min: 0,\n            max: 1,\n            calculable: true,\n            orient: 'horizontal',\n            left: 'center',\n            bottom: '5%',\n            inRange: {\n              color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n            }\n          },\n          series: [{\n            name: 'Confusion Matrix',\n            type: 'heatmap',\n            data: this.data.map((item, i) => item.map((value, j) => [j, i, value])).flat(),\n            label: {\n              show: true,\n              color: '#000'\n            },\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }]\n        };\n  \n        chart.setOption(option);\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  </style>\n  "],"mappings":"AAKE,OAAO,KAAKA,OAAM,MAAO,SAAS;AAElC,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,KAAK;MACXC,QAAQ,EAAE;IACZ,CAAC;IACDC,UAAU,EAAE;MACVH,IAAI,EAAEC,KAAK;MACXC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,SAAS,CAAC,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACPD,SAASA,CAAA,EAAG;MACV,IAAIE,KAAI,GAAIX,OAAO,CAACY,IAAI,CAAC,IAAI,CAACC,KAAK,CAACF,KAAK,CAAC;MAE1C,IAAIG,MAAK,GAAI;QACXC,OAAO,EAAE;UACPC,QAAQ,EAAE,KAAK;UACfC,SAAS,EAAE,SAAAA,CAAUC,MAAM,EAAE;YAC3B,OAAO,SAASA,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,gBAAgBD,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,YAAYD,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;UAC7F;QACF,CAAC;QACDC,IAAI,EAAE;UACJC,IAAI,EAAE,KAAK;UACXC,KAAK,EAAE,KAAK;UACZC,GAAG,EAAE,KAAK;UACVC,MAAM,EAAE;QACV,CAAC;QACDC,KAAK,EAAE;UACLrB,IAAI,EAAE,UAAU;UAChBD,IAAI,EAAE,IAAI,CAACI,UAAU;UACrBmB,SAAS,EAAE;YACTC,IAAI,EAAE;UACR,CAAC;UACDC,SAAS,EAAE;YACTC,MAAM,EAAE,EAAE;YACVC,QAAQ,EAAE;UACZ;QACF,CAAC;QACDC,KAAK,EAAE;UACL3B,IAAI,EAAE,UAAU;UAChBD,IAAI,EAAE,IAAI,CAACI,UAAU;UACrBmB,SAAS,EAAE;YACTC,IAAI,EAAE;UACR;QACF,CAAC;QACDK,SAAS,EAAE;UACTC,GAAG,EAAE,CAAC;UACNC,GAAG,EAAE,CAAC;UACNC,UAAU,EAAE,IAAI;UAChBC,MAAM,EAAE,YAAY;UACpBf,IAAI,EAAE,QAAQ;UACdG,MAAM,EAAE,IAAI;UACZa,OAAO,EAAE;YACPC,KAAK,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;UACjI;QACF,CAAC;QACDC,MAAM,EAAE,CAAC;UACPtC,IAAI,EAAE,kBAAkB;UACxBG,IAAI,EAAE,SAAS;UACfD,IAAI,EAAE,IAAI,CAACA,IAAI,CAACqC,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAKD,IAAI,CAACD,GAAG,CAAC,CAACrB,KAAK,EAAEwB,CAAC,KAAK,CAACA,CAAC,EAAED,CAAC,EAAEvB,KAAK,CAAC,CAAC,CAAC,CAACyB,IAAI,CAAC,CAAC;UAC9EC,KAAK,EAAE;YACLlB,IAAI,EAAE,IAAI;YACVW,KAAK,EAAE;UACT,CAAC;UACDQ,QAAQ,EAAE;YACRC,SAAS,EAAE;cACTC,UAAU,EAAE,EAAE;cACdC,WAAW,EAAE;YACf;UACF;QACF,CAAC;MACH,CAAC;MAEDtC,KAAK,CAACuC,SAAS,CAACpC,MAAM,CAAC;IACzB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}